<% if (!old) { -%>
import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';
import { HydratedDocument } from 'mongoose';

const <%= schemaClassUpperCase %>_MODEL = '<%= schemaClassLower %>s';

export type <%= schemaClass %>Document = HydratedDocument<<%= schemaClass %>>;

@Schema({ timestamps: true, collection: <%= schemaClassUpperCase %>_MODEL })
export class <%= schemaClass %> {
  @Prop({
    required: true,
    trim: true,
  })
  <%= schemaClassLower %>: string;

  @Prop({ default: null })
  deleteAt: Date;

  @Prop()
  createdAt?: Date;

  @Prop()
  updatedAt?: Date;
}

export const <%= schemaClass %>Schema = SchemaFactory.createForClass(<%= schemaClass %>);
<% } %><% if (old) { -%>
import * as mongoose from 'mongoose';

const <%= schemaClassUpperCase %>_MODEL = '<%= schemaClassLower %>s';

const <%= schemaClass %>Schema = new mongoose.Schema(
  {
    name: String,
    age: Number,
    isDeleted: {
      type: Boolean,
      default: false,
    },
  },
  {
    timestamps: true,
    collection: <%= schemaClassUpperCase %>_MODEL,
  },
);

export { <%= schemaClassUpperCase %>_MODEL, <%= schemaClass %>Schema };
<% } %>